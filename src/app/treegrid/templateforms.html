<div class="control-section">
    <ejs-treegrid [dataSource]='data'  childMapping='subtasks' height='350' [treeColumnIndex]='1'allowPaging='true' [pageSettings]='pageSettings' [editSettings]='editSettings' [toolbar]='toolbar' (actionBegin)="actionBegin($event)" (actionComplete)="actionComplete($event)">
        <e-columns>
            <e-column field='taskID' headerText='Task ID' width='120' textAlign='Right' isPrimaryKey='true' ></e-column>
            <e-column field='taskName' headerText='Task Name' width='225' ></e-column>
            <e-column field='startDate' headerText='Start Date' width='150' format="yMd" ></e-column>
            <e-column field='duration' headerText='Duration' width='130' textAlign='Right' ></e-column>
            <e-column field='progress' headerText='Progress' width='130' textAlign='Right' ></e-column>
        </e-columns>
        <ng-template #editSettingsTemplate let-data>
            <div ngForm #taskForm="ngForm">
                <table class="e-table e-inline-edit" cellspacing="0.25">
                    <colgroup>
                            <col style="width: 120px;">
                            <col style="width: 225px;">
                            <col style="width: 150px;">
                            <col style="width: 130px;">
                            <col style="width: 130px;">
                    </colgroup>
                    <tbody>
                        <tr>
                            <td style="text-align: right" class='e-rowcell'>
                                <div class="e-input-group" [ngClass]= "{'e-disabled': !data.isAdd}">
                                    <input class="e-input e-field" [(ngModel)]="taskdata.taskID" required [attr.disabled]="!data.isAdd ? '' : null" name='taskID' type="text" (focus)="focusIn($event.target)"
                                        (blur)="focusOut($event.target)" style="text-align: right"  />
                                </div>
                            </td>
                            <td class='e-rowcell'>
                                <div class="e-input-group">
                                    <input class="e-input e-field" name='taskName' [(ngModel)]="taskdata.taskName" required type="text" (focus)="focusIn($event.target)"
                                        (blur)="focusOut($event.target)" />
                                </div>
                            </td>
                            <td style="text-align: right" class='e-rowcell'>
                                <ejs-datepicker id="startDate" name="startDate" [(ngModel)]="taskdata.startDate" floatLabelType='Never'></ejs-datepicker>                            
                            </td>
                            <td style="text-align: right" class='e-rowcell'>
                                <ejs-numerictextbox name="duration" id="duration" [(ngModel)]="taskdata.duration" format='##' floatLabelType='Never'></ejs-numerictextbox>
                            </td>    
                            <td class='e-rowcell'>
                                <ejs-dropdownlist id="progress" name="progress" [(ngModel)]="taskdata.progress" [dataSource]='progressDistinctData' [fields]="{text: 'progress', value: 'progress' }" popupHeight='300px' floatLabelType='Never'></ejs-dropdownlist>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </ng-template>
    </ejs-treegrid>
</div>
<div id="action-description">
    <p>This sample demonstrates CRUD operations in Tree Grid by using the Angular Template-driven forms. You can perform CRUD operations as follows,</p>
        <ul>
            <li><code>Add</code> -  To add new record, click Add toolbar button </li>
            <li><code>Edit</code> - To edit record, double click a row or click toolbar Edit button after selected a row </li>
            <li><code>Delete</code> - To delete record, click toolbar Delete button after selected a row </li>
            <li><code>Update</code>,<code>Cancel</code> - You can save or discard changes by click toolbar Update and Cancel button respectively</li>
        </ul>
</div>
<div id="description">
        <p> The Tree Grid supports CRUD operations. This CRUD operations can be configured in Tree Grid using
            <code><a target="_blank" class="code" href="https://ej2.syncfusion.com/angular/documentation/api/treegrid/editSettings/">
            editSettings</a></code>.
        </p>
        <p>
            In this demo, Angular <code><a target="_blank" class="code" href="https://angular.io/guide/forms#template-driven-forms">
            Template-driven </a></code> Forms is enabled for editing using Inline template.
            We have created the form controls for editing the row data using NgTemplate content with <code><a target="_blank" class="code"
            href="https://ej2.syncfusion.com/angular/documentation/api/treegrid/editSettings/#mode"> editSettingsTemplate </a></code> as template variable.
            The inline template editing can be enabled by defining <code><a target="_blank" class="code"
            href="https://ej2.syncfusion.com/angular/documentation/api/treegrid/editSettings/#mode">
            editSettings.mode
            </a></code> as required and <code><a target="_blank" class="code"
                href="https://ej2.syncfusion.com/angular/documentation/api/treegrid/editSettings/#mode">
                editSettingsTemplate
                </a></code> as ng-template. You can start editing by double clicking a row or clicking on toolbar's <code>Edit</code>
            button, then the currently selected row will be changed to edited state by using given template. you can change the row values and save edited data to the datasource.
        </p>
        <p style="font-weight: 500">Injecting Module:</p>
        <p>
            Tree Grid component features are segregated into individual feature-wise modules. To use editing feature, we need to inject
            <code><a target="_blank" class="code"
                href="https://ej2.syncfusion.com/angular/documentation/api/treegrid/edit/">
                EditService
                </a></code> into the <code>&#64;NgModule.providers</code> section.
        </p>
</div>
   
