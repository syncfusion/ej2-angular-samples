<div id="action-description">
    <p>This sample demonstrates how to digitally sign a PDF document from code behind using Syncfusion's PDF Viewer and PDF Library</p>
</div>
<div class='control-section'>
    <div class='content-wrapper e-tbar-section'>
        <div class='e-sample-resize-container'>
            <ejs-toolbar id='topToolbar' #customToolbar>
                <e-items>
                    <e-item prefixIcon='e-icons e-folder-open' id='openDocument' tooltipText='Open' (click)='openDocument($event)'></e-item>
                    <e-item text="Complete Signing" tooltipText="Finish Signing" width="150px" (click)="signDocument($event)" [disabled]="buttonVisibility" align="Right" id="pdfviewer_sign" cssClass="e-pv-button-container"></e-item>
                    <e-item prefixIcon='e-icons e-download' tooltipText='Download' (click)='downloadClicked($event)' [disabled]="downloadVisibility" cssClass= "e-pv-download-document-container" align='Right'></e-item>
                </e-items>
            </ejs-toolbar>
            </div> 

                <ejs-message id="msg_success" [content]="msgSuccess" [visible]='successVisible' severity="Success"></ejs-message>
                <ejs-message id="msg_warning" [content]="msgWarning" [visible]='warningVisible' severity="Warning"></ejs-message>
                <ejs-message id="msg_error" [content]="msgError" [visible]='errorVisible' severity="Error"></ejs-message>

        <ejs-pdfviewer #pdfviewer id='pdfViewer' [documentPath]="document"(addSignature) = "addSignature($event)"  (documentLoad)="documentLoad($event)" [enableToolbar]=false [enableNavigationToolbar]=false 
        [resourceUrl]='resource' [enableAnnotationToolbar]=false [enableTextSelection]=false style="height:640px; display: block">
        </ejs-pdfviewer>
        <input type="file" id="fileUpload" accept=".pdf" style="display:block;visibility:hidden;width:0;height:0;">
    </div>
</div>

<div id="description">
    <p>
        This sample operates correctly when a signature field is present in the PDF document. If all signature fields
        are signed, the "Finish Signing" button becomes enabled. Clicking this button adds a digital signature
        certificate programmatically and reloads the digitally signed document into the viewer.
    </p>

    <br />

    <p>The below are the messages shown in the respective scenarios:</p>

    <br />

    <p>1. The document has been digitally signed, but it has been modified since it was signed and at least one
        signature is invalid.</p>
    <ul>
        <li>This message appears if the digitally signed document is edited after reloading.</li>
    </ul>

    <p>2. The document has been digitally signed and at least one signature has a problem.</p>

    <ul>
        <li>This message is shown if the digital signature is not registered on the machine and is not in the trusted
            list. Adding the certificate to the trusted list is necessary.</li>
    </ul>

    <p>3. The document has been digitally signed and all the signatures are valid.</p>

    <ul>
        <li>This message indicates that the document is digitally signed without any issues.</li>
    </ul>

    <p>
        More information on the PDF Viewer instantiation can be found on this
        <a target="_blank" href="https://ej2.syncfusion.com/angular/documentation/pdfviewer/getting-started">
            documentation section </a>.
    </p>
</div>