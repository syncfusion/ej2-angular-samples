{"main.ts":"import { bootstrapApplication } from '@angular/platform-browser'; \n\nimport { appConfig } from './app/app.config'; \n\nimport { AppComponent } from './app.component';\n\nbootstrapApplication(AppComponent, appConfig).catch((err) => console.error(err));","angular.json":"{\n    \"$schema\": \"./node_modules/@angular/cli/lib/config/schema.json\",\n    \"version\": 1,\n    \"newProjectRoot\": \"projects\",\n    \"projects\": {\n      \"demo\": {\n        \"root\": \"\",\n        \"sourceRoot\": \"\",\n        \"projectType\": \"application\",\n        \"prefix\": \"app\",\n        \"schematics\": {},\n        \"architect\": {\n          \"build\": {\n            \"builder\": \"@angular-devkit/build-angular:browser\",\n            \"options\": {\n              \"outputPath\": \"dist/demo\",\n              \"index\": \"index.html\",\n              \"main\": \"main.ts\",\n              \"polyfills\": \"polyfills.ts\",\n              \"tsConfig\": \"tsconfig.app.json\",\n              \"assets\": [\n                \"favicon.ico\",\n                \"assets\"\n              ],\n              \"styles\": [\n                \n              ],\n              \"scripts\": []\n            },\n            \"configurations\": {\n              \"production\": {\n                \"fileReplacements\": [\n                  {\n                    \"replace\": \"src/environments/environment.ts\",\n                    \"with\": \"src/environments/environment.prod.ts\"\n                  }\n                ],\n                \"optimization\": true,\n                \"outputHashing\": \"all\",\n                \"sourceMap\": false,\n                \"extractCss\": true,\n                \"namedChunks\": false,\n                \"aot\": true,\n                \"extractLicenses\": true,\n                \"vendorChunk\": false,\n                \"buildOptimizer\": true\n              }\n            }\n          },\n          \"serve\": {\n            \"builder\": \"@angular-devkit/build-angular:dev-server\",\n            \"options\": {\n              \"browserTarget\": \"demo:build\"\n            },\n            \"configurations\": {\n              \"production\": {\n                \"browserTarget\": \"demo:build:production\"\n              }\n            }\n          },\n          \"extract-i18n\": {\n            \"builder\": \"@angular-devkit/build-angular:extract-i18n\",\n            \"options\": {\n              \"browserTarget\": \"demo:build\"\n            }\n          },\n          \"test\": {\n            \"builder\": \"@angular-devkit/build-angular:karma\",\n            \"options\": {\n              \"main\": \"src/test.ts\",\n              \"polyfills\": \"src/polyfills.ts\",\n              \"tsConfig\": \"src/tsconfig.spec.json\",\n              \"karmaConfig\": \"src/karma.conf.js\",\n              \"styles\": [\n                \"styles.css\"\n              ],\n              \"scripts\": [],\n              \"assets\": [\n                \"src/favicon.ico\",\n                \"src/assets\"\n              ]\n            }\n          },\n          \"lint\": {\n            \"builder\": \"@angular-devkit/build-angular:tslint\",\n            \"options\": {\n              \"tsConfig\": [\n                \"src/tsconfig.app.json\",\n                \"src/tsconfig.spec.json\"\n              ],\n              \"exclude\": [\n                \"**/node_modules/**\"\n              ]\n            }\n          }\n        }\n      }\n    },\n    \"defaultProject\": \"demo\"\n  }\n  \n","app.component.ts":"import { Component, ViewChild, ViewEncapsulation } from '@angular/core';\nimport {\n  DiagramComponent,\n  DiagramModule,\n  NodeModel,\n  ConnectorModel,\n  DiagramTools,\n  SnapConstraints,\n  SnapSettingsModel,\n  Diagram,\n  UndoRedo,\n  PointPortModel,\n  ISelectionChangeEventArgs,\n  DiagramConstraints,\n  RulerSettingsModel\n} from '@syncfusion/ej2-angular-diagrams';\nimport { ToolbarComponent, ToolbarModule } from '@syncfusion/ej2-angular-navigations';\n\n\nimport { NumericTextBoxModule, ColorPickerModule } from '@syncfusion/ej2-angular-inputs';\nimport { ComboBoxModule } from '@syncfusion/ej2-angular-dropdowns';\n\nDiagram.Inject(UndoRedo);\n\n/**\n * Container sample\n */\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html',\n  encapsulation: ViewEncapsulation.None,\n  standalone: true,\n  imports: [ToolbarModule,ComboBoxModule, DiagramModule,NumericTextBoxModule, ColorPickerModule,  ]\n})\nexport class AppComponent {\n  @ViewChild('diagram')\n  public diagram!: DiagramComponent;\n\n  public nodes: NodeModel[] = [];\n  public connectors: ConnectorModel[] = [];\n\n  public tools: DiagramTools = DiagramTools.ZoomPan;\n\n  public snapSettings: SnapSettingsModel = {\n    constraints: SnapConstraints.None\n  };\n  public constraints: DiagramConstraints = DiagramConstraints.Default | DiagramConstraints.Bridging;\n  public fontTypeCollection = [\n    { type: 'Arial', text: 'Arial' },\n    { type: 'Aharoni', text: 'Aharoni' },\n    { type: 'Bell MT', text: 'Bell MT' },\n    { type: 'Fantasy', text: 'Fantasy' },\n    { type: 'Segoe UI', text: 'Segoe UI' },\n    { type: 'Times New Roman', text: 'Times New Roman' },\n    { type: 'Verdana', text: 'Verdana' }\n  ];\n   // Reference to the toolbar component\n    @ViewChild('toolbar')\n    public toolbar: ToolbarComponent;\n    constructor() {\n    }\n\n  ngOnInit(): void {\n    this.initializeNodes();\n    this.initializeConnectors();\n  }\n\n  public created(): void {\n     this.diagram.fitToPage();\n  }\n\n  public rulerSettings: RulerSettingsModel = { showRulers: true, dynamicGrid: true };\n\n  private initializeNodes(): void {\n    const createNode = (\n      id: string,\n      x: number,\n      y: number,\n      height: number,\n      width: number,\n      content: string,\n      marginX?: number,\n      marginY?: number\n    ): NodeModel => {\n      let ports: PointPortModel[] = [];\n\n      switch (id) {\n        case 'node5':\n        case 'node6':\n          ports = [{ id: 'port1', offset: { x: 0.9, y: 0 } }];\n          break;\n        case 'node13':\n        case 'node15':\n          ports = [{ id: 'port2', offset: { x: 1, y: 0.5 } }];\n          break;\n        case 'node3':\n          ports = [\n            { id: 'port3', offset: { x: 0.25, y: 1 } },\n            { id: 'port4', offset: { x: 0.5, y: 1 } },\n            { id: 'port5', offset: { x: 0.75, y: 1 } }\n          ];\n          break;\n        case 'node7':\n          ports = [\n            { id: 'port1', offset: { x: 0, y: 0.5 } },\n            { id: 'port2', offset: { x: 1, y: 0.5 } }\n          ];\n          break;\n        case 'node8':\n          ports = [\n            { id: 'port3', offset: { x: 0.25, y: 1 } },\n            { id: 'port5', offset: { x: 0.75, y: 1 } }\n          ];\n          break;\n      }\n\n      return {\n        id,\n        offsetX: x,\n        offsetY: y,\n        margin: { left: marginX || 0, top: marginY || 0 },\n        width,\n        height,\n        style: { fill: 'white', strokeColor: '#2546BB', strokeWidth: 1 },\n        shape: {\n          type: 'Basic',\n          shape: 'Rectangle',\n          cornerRadius: 4\n        },\n        annotations: [\n          {\n            content,\n            style: { color: '#343434' },\n            horizontalAlignment: 'Center'\n          }\n        ],\n        ports\n      };\n    };\n\n    this.nodes = [\n      createNode('node1', 300, 300, 60, 100, 'HTTP Traffic'),\n      createNode('node2', 500, 300, 60, 100, 'Ingestion service', 50, 30),\n      createNode('node3', 650, 300, 60, 100, 'Workflow service', 200, 30),\n      createNode('node4', 500, 415, 60, 100, 'Package service', 50, 150),\n      createNode('node5', 650, 415, 60, 150, 'Drone Scheduler service', 175, 150),\n      createNode('node6', 800, 415, 60, 100, 'Delivery service', 350, 150),\n      createNode('node7', 580, 130, 60, 90, 'Azure Service Bus'),\n      createNode('node8', 815, 130, 60, 100, 'Managed Identities'),\n      createNode('node9', 1000, 130, 60, 100, 'Azure Key Vault'),\n      createNode('node10', 500, 550, 60, 100, 'Azure Cosmos DB for MongoDB API'),\n      createNode('node11', 650, 550, 60, 100, 'Azure Cosmos DB'),\n      createNode('node12', 800, 550, 60, 100, 'Azure Cache for Redis'),\n      createNode('node13', 1040, 255, 60, 100, 'Azure Application Insights'),\n      createNode('node14', 1140, 350, 60, 100, 'Azure Monitor'),\n      createNode('node15', 1040, 445, 60, 100, 'Azure Log Analytics workspace'),\n      {\n        id: 'container',\n        width: 520,\n        height: 300,\n        offsetX: 660,\n        offsetY: 350,\n        shape: {\n          type: 'Container',\n          header: {\n            annotation: {\n              content: 'Azure Container Apps Environment',\n              style: {\n                fontSize: 18,\n                bold: true,\n                fill: 'transparent',\n                strokeColor: 'transparent'\n              }\n            },\n            height: 40,\n            style: {\n              fontSize: 18,\n              bold: true,\n              fill: 'transparent',\n              strokeColor: 'transparent'\n            }\n          },\n          children: ['node2', 'node3', 'node4', 'node5', 'node6']\n        },\n        style: { fill: '#E9EEFF', strokeColor: '#2546BB', strokeWidth: 1 }\n      }\n    ];\n  }\n\n  private initializeConnectors(): void {\n    const createConnector = (\n      id: string,\n      sourceID: string,\n      targetID: string,\n      sourcePortID?: string,\n      targetPortID?: string,\n      sourceDecorator?: any\n    ): ConnectorModel => {\n      return {\n        id,\n        type: 'Orthogonal',\n        sourceID,\n        targetID,\n        sourcePortID,\n        targetPortID,\n        style: { strokeColor: '#5E5E5E', strokeWidth: 1 },\n        sourceDecorator: sourceDecorator || { shape: 'None' },\n        targetDecorator: {\n          style: {\n            fill: '#5E5E5E',\n            strokeColor: '#5E5E5E',\n            strokeWidth: 1\n          }\n        }\n      };\n    };\n\n    const sourceDecorator = {\n      shape: 'Arrow',\n      style: {\n        fill: '#5E5E5E',\n        strokeColor: '#5E5E5E',\n        strokeWidth: 1\n      }\n    };\n\n    this.connectors = [\n      createConnector('connector1', 'node1', 'node2'),\n      createConnector('connector2', 'node4', 'node10'),\n      createConnector('connector3', 'node5', 'node11'),\n      createConnector('connector4', 'node6', 'node12'),\n      createConnector('connector5', 'node8', 'node9'),\n      createConnector('connector6', 'container', 'node13'),\n      createConnector('connector7', 'container', 'node15'),\n      createConnector('connector8', 'node3', 'node4', 'port3'),\n      createConnector('connector9', 'node3', 'node5', 'port4'),\n      createConnector('connector10', 'node3', 'node6', 'port5'),\n      createConnector('connector11', 'node2', 'node7', '', 'port1'),\n      createConnector('connector12', 'node7', 'node3', 'port2'),\n      createConnector('connector13', 'node13', 'node14', 'port2'),\n      createConnector('connector14', 'node15', 'node14', 'port2'),\n      createConnector('connector16', 'node8', 'node5', 'port3', 'port1', sourceDecorator),\n      createConnector('connector17', 'node8', 'node6', 'port5', 'port1', sourceDecorator)\n    ];\n  }\n\n\n    public fields: Object = {\n      value: 'type', text: 'text'\n    }\n\n    public value: string = 'Aharoni';\n    public fontTypeList = [\n      { type: 'Arial', text: 'Arial' },\n      { type: 'Aharoni', text: 'Aharoni' },\n      { type: 'Bell MT', text: 'Bell MT' },\n      { type: 'Fantasy', text: 'Fantasy' },\n      { type: 'Segoe UI', text: 'Segoe UI' },\n      { type: 'Times New Roman', text: 'Times New Roman' },\n      { type: 'Verdana', text: 'Verdana' }\n    ];\n\n\n    //Handles toolbar item actions based on tooltip text.\n    public toolbarClick(args): void  {\n      switch (args.item.tooltipText) {\n      // Toggle bold style for selected annotation(s)\n        case 'Bold':\n          this.updateAnnotationValue('bold', args.value, null, 11, true);\n          break;\n\n        // Toggle italic style for selected annotation(s)\n        case 'Italic':\n          this.updateAnnotationValue('italic', args.value, null, 12, true);\n          break;\n\n        // Toggle underline style for selected annotation(s)\n        case 'Underline':\n          this.updateAnnotationValue('underline', args.value, null, 13, true);\n          break;\n      }\n      this.diagram.dataBind();\n    }\n\n    public selectionChange(args: ISelectionChangeEventArgs): void {\n      if (args.state === 'Changed') {\n        const selectedItems = [...this.diagram.selectedItems.nodes, ...this.diagram.selectedItems.connectors];\n\n        const hasAnnotation = selectedItems.some(item => {\n          // Check for annotations directly on the item\n          if (item.annotations && item.annotations.length > 0) {\n            return true;\n          }\n          // Specifically handle the case for containers\n          if (item.shape && item.shape.type === 'Container' && (item as any).shape.header && (item as any).shape.header.annotation) {\n            return true;\n          }\n          return false;\n        });\n\n        const toolbarItems = ['FontStyle', 'FontSize', 'Bold', 'Italic', 'Underline', 'FontColor'];\n\n        toolbarItems.forEach(id => {\n          const item = this.toolbar.items.find(item => item.id === id);\n          if (item) {\n            item.disabled = !hasAnnotation;\n          }\n        });\n      }\n    }\n\n     /**\n      * Update annotation style attributes such as font size, font family, bold, italic, and underline.\n      */\n    public updateAnnotationValue(value, fontSize, fontFamily, index, isSelected) {\n      const selectedItems = [\n        ...this.diagram.selectedItems.nodes,\n        ...this.diagram.selectedItems.connectors,\n      ];\n      for (let i = 0; i < selectedItems.length; i++) {\n        const node = selectedItems[i];\n        // Determine the annotations to update, including container headers if applicable\n        const annotations = node.shape?.type === 'Container' ? [(node as any).shape.header.annotation] : (node.annotations || []);\n        for (let j = 0; j < annotations.length; j++) {\n          const annotationstyle = annotations[j].style;\n          // Update style attributes based on the provided value\n          if (value === 'fontsize') {\n            annotationstyle.fontSize = fontSize;\n          } else if (value === 'fontfamily') {\n            annotationstyle.fontFamily = fontFamily.toString();\n          } else if (value === 'bold') {\n            annotationstyle.bold = !annotationstyle.bold;\n            isSelected = annotationstyle.bold;\n          } else if (value === 'italic') {\n            annotationstyle.italic = !annotationstyle.italic;\n            isSelected = annotationstyle.italic;\n          } else if (value === 'underline') {\n            if (annotationstyle.textDecoration === 'None') {\n              annotationstyle.textDecoration = 'Underline';\n              isSelected = true;\n            } else {\n              annotationstyle.textDecoration = 'None';\n              isSelected = false;\n            }\n          }\n        }\n        this.diagram.dataBind();\n      }\n    }\n\n    /**\n    * Function Renders a Color selector component for selecting font color.\n     */\n    public colorChange(args: any): void {\n      const selectedItems = [\n        ...this.diagram.selectedItems.nodes,\n        ...this.diagram.selectedItems.connectors,\n      ];\n      for (let i = 0; i < selectedItems.length; i++) {\n        const node = selectedItems[i];\n        // Determine the annotations to update, including container headers if applicable\n        const annotations = node.shape?.type === 'Container' ? [(node as any).shape.header.annotation] : (node.annotations || []);\n        for (let j = 0; j < annotations.length; j++) {\n          annotations[j].style.color = args.currentValue.rgba;\n        }\n      }\n      this.diagram.dataBind();\n    }\n\n    /**\n    * Function Renders a numeric text box component for selecting font size.\n    */\n    public fontSizeChange(args: any): void {\n      const size = args.value;\n      this.updateAnnotationValue('fontsize', size, null, null, true);\n    }\n\n\n    /**\n    * Function Renders a dropdown component for selecting font family.\n    */\n      public fontFamily(args: any): void {\n      const selectedFont = args.itemData.type;\n      this.updateAnnotationValue('fontfamily', null, selectedFont, null, true);\n    }\n\n\n\n}\n","polyfills.ts":"import 'zone.js';","app/app.config.ts":"import { ApplicationConfig } from '@angular/core';\n\n export const appConfig: ApplicationConfig = { providers: [], };","index.html":"<!doctype html>\n        <html lang=\"en\">\n          <head>\n            <meta charset=\"utf-8\">\n            <title>Window</title>\n            <base href=\"/\">\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n            <link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\">\n            <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\" >\n          </head>\n          <body class=\"ej2-new\"> \n\n              <!-- Google Tag Manager (noscript) -->\n              <noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-P3WXFWCW\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n              <noscript><iframe src=\"https://www.googletagmanager.com/ns.html?id=GTM-W8WD8WN\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe></noscript>\n              <!-- End Google Tag Manager (noscript) -->\n           <div hidden id=\"sync-analytics\" data-queue=\"EJ2 - Angular - Demos\"></div>\n            <app-root></app-root>\n          </body>\n        </html>","app.component.html":"<style>\r\n.control-section{\r\n    margin-top: 100px;\r\n}\r\n\r</style>\n<div class=\"control-section\">\n    <style>\n        .diagram-toolbar-container {\n            width: 100%;\n            height: 50px;\n            margin-bottom: 10px;\n        }\n    </style>\n    <div style=\"width: 100%\"  class=\"diagram-toolbar-container\">\n        <ejs-toolbar #toolbar overflowMode=\"Scrollable\" id=\"toolbar_scrollable\" (clicked)=\"toolbarClick($event)\">\n            <e-items>\n                <e-item id=\"FontStyle\" tooltipText=\"Font Style\" type=\"Input\" disabled=\"true\">\n                    <ng-template #template>\n                        <ejs-combobox id=\"games\" #sample [dataSource]=\"fontTypeList\" (select)=\"fontFamily($event)\"\n                            [(value)]=\"value\"></ejs-combobox>\n                    </ng-template>\n                </e-item>\n\n                <e-item id=\"Separator3\" type=\"Separator\">\n                    <ng-template #template>\n                        <div style=\"margin-left:1px;\"></div>\n                    </ng-template>\n                </e-item>\n\n                <e-item id=\"FontSize\" tooltipText=\"Font Size\" disabled=\"true\">\n                    <ng-template #template>\n                        <ejs-numerictextbox id=\"range\" value=\"12\" format=\"##.##\" [step]=\"2\" [min]=\"1\" [max]=\"30\"\n                            width=\"110px\" (change)=\"fontSizeChange($event)\"></ejs-numerictextbox>\n                    </ng-template>\n                </e-item>\n\n                <e-item id=\"Bold\" prefixIcon=\"e-icons e-bold\" tooltipText=\"Bold\" type=\"Button\" disabled=\"true\"></e-item>\n\n                <e-item id=\"Italic\" prefixIcon=\"e-icons e-italic\" tooltipText=\"Italic\" type=\"Button\"\n                   disabled=\"true\"></e-item>\n\n                <e-item id=\"Underline\" prefixIcon=\"e-icons e-underline\" tooltipText=\"Underline\" type=\"Button\"\n                   disabled=\"true\">\n                </e-item>\n\n                <e-item id=\"FontColor\" disabled=\"true\">\n                    <ng-template #template>\n                        <input ejs-colorpicker id=\"color-picker\" type=\"color\" (change)=\"colorChange($event)\" />\n                    </ng-template>\n                </e-item>\n\n            </e-items>\n        </ejs-toolbar>\n    </div>\n    <div id=\"diagram-space\" class=\"sb-mobile-diagram\">\n        <div class=\"content-wrapper\" style=\"width: 100%\">\n            <ejs-diagram #diagram id=\"diagram\" width=\"100%\" height=\"700px\" [nodes]=\"nodes\" [connectors]=\"connectors\"\n                [constraints]=\"constraints\"\n                (created)=\"created()\" (selectionChange)=\"selectionChange($event)\" [rulerSettings]=\"rulerSettings\">\n            </ejs-diagram>\n        </div>\n    </div>\n</div>\n\n","app.component.css":"","dependencies.json":"{\"@syncfusion/ej2-angular-base\":\"*\",\"@syncfusion/ej2-base\":\"*\",\"@syncfusion/ej2-diagrams\":\"*\",\"tslib\":\"^2.3.0\",\"@syncfusion/ej2-angular-diagrams\":\"*\",\"@syncfusion/ej2-navigations\":\"*\",\"@syncfusion/ej2-angular-navigations\":\"*\",\"@syncfusion/ej2-inputs\":\"*\",\"@syncfusion/ej2-angular-inputs\":\"*\",\"@syncfusion/ej2-dropdowns\":\"*\",\"@syncfusion/ej2-angular-dropdowns\":\"*\",\"@syncfusion/ej2-buttons\":\"*\",\"@syncfusion/ej2-angular-buttons\":\"*\",\"@syncfusion/ej2-splitbuttons\":\"*\",\"@syncfusion/ej2-angular-splitbuttons\":\"*\",\"@syncfusion/ej2-circulargauge\":\"*\",\"@syncfusion/ej2-angular-circulargauge\":\"*\",\"@syncfusion/ej2-calendars\":\"*\",\"@syncfusion/ej2-angular-calendars\":\"*\",\"@syncfusion/ej2-lists\":\"*\",\"@syncfusion/ej2-angular-lists\":\"*\",\"@syncfusion/ej2-grids\":\"*\",\"@syncfusion/ej2-angular-grids\":\"*\",\"@syncfusion/ej2-charts\":\"*\",\"@syncfusion/ej2-angular-charts\":\"*\",\"@syncfusion/ej2-popups\":\"*\",\"@syncfusion/ej2-angular-popups\":\"*\",\"@syncfusion/ej2-data\":\"*\",\"codemirror\":\"5.65.15\",\"marked\":\"0.3.19\",\"@types/codemirror\":\"0.0.56\",\"@types/marked\":\"0.3.0\",\"@angular/http\":\"*\",\"rxjs-compat\":\"*\",\"core-js\":\"2.6.9\",\"fuse.js\":\"^7.0.0\"}"}